<div class="posts-new-main">
  <div class="container">
    <h2 class="start-message">レシピを投稿しよう！</h2>
    <%= form_with model: @recipe, url: posts_create_path, local: true do |f| %>
      <div class="new-post">
        <%= render 'shared/error_messages' %>
        <div class="new-post-form">
          <div class="post-cooking-name posts-new-content">
            <p>料理名 <span class="required-item">※必須</span></p>
            <%= f.text_field :cooking_name, placeholder: "かぼちゃジュース" %>
          </div>
          <div class="post-cooking-image posts-new-content">
            <p>写真を追加する <span class="required-item">※必須</span></p>
            <label class="image-form cooking-image-form">
              <span class="material-icons camera-icon">add_a_photo</span>
              <p>ファイルを選択</p>
              <p class="not-selected">※選択されていません</p>
              <%= f.file_field :cooking_image %>
            </label>
          </div>
          <div class="post-new-ingredients posts-new-content">
            <p>材料</p>
            <p class="required-item">※必須</p>
            <div class="ingredient-area">
              <%= f.fields_for :ingredients do |i| %>
                <div class="js-file-group" data-index="${index}">
                  <div class="new-ingredients">
                    <div class="posts-new-content ingredient">
                      <%= i.text_field :ingredient, placeholder: "材料", class: "ingredient-form" %>
                      <%= i.text_field :amount, placeholder: "分量", class: "amount-form" %>
                      <%= i.select :unit, [["大さじ", "大さじ"], ["小さじ", "小さじ"],
                              ["ml", "ml"], ["cc","cc"], ["グラム", "グラム"], ["個", "個"], ["パック", "パック"], ["枚", "枚"]], include_blank: "単位を選択" %>
                      <span class="delete-form-btn">
                        削除する
                      </span>
                    </div>
                  </div>
                </div>
              <% end %>
            </div>
          </div>
          <div class="add-form-btn">
            追加する
          </div>

          <div class="new-cooking-steps posts-new-content">
            <%= f.fields_for :steps do |s| %>
              <%= render 'posts/step_fields', f: s %>
            <% end %>
          </div>
          <div class="post-comment posts-new-content">
            <p class="comment-field">コメント</p>
            <%= f.text_area :comment %>
          </div>
          <div class="send-post">
            <%= f.submit "投稿する" %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
